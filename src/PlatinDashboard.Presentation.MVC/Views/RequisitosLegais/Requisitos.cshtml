@using PagedList.Mvc;
@model PagedList.IPagedList<Model.Entity.LeisClientes>
@{
    ViewBag.Title = "LegiSig| Portal Legisig";
}
@section styles{
    @Styles.Render("~/coreui/ladda/css")
    @Styles.Render("~/coreui/datatables/css")
    <style>
        /* for table */
        .as_td tr td {
            /*width: 80px;*/
            text-align: justify;
            font-size: 10px;
        }

            /* for label and span inside td */
            .as_td tr td label, span {
                width: 100px;
            }

            /* for input text control inside td */
            .as_td tr td input[type=text] {
                width: 200px;
            }

            /* for dropdown control inside td */
            .as_td tr td select {
                width: 300px;
            }
    </style>
}
@section breadcrumb{
    <!-- Breadcrumb-->
    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a href="@Url.Action("Index", "Home")">Painel Geral</a>
        </li>
        <li class="breadcrumb-item active">Gestão Legal - @ViewBag.Cliente</li>
        <!-- Breadcrumb Menu-->
        <li class="breadcrumb-menu d-md-down-none">
            <div class="btn-group" role="group" aria-label="Button group">
                <a class="btn" href="javascript:void(0)">
                    Olá @User.Identity.Name !
                </a>
            </div>
        </li>
    </ol>
}

<div class="card">
    <div class="card-header">
        <h4 style="display: inline-block">AVALIAÇÃO DE REQUISITOS </h4>
        <table>
            <tr>
                <td href="@Url.Action("DownloadExcel", "RequisitosLegais")" class="btn btn-primary">
                    <i class="fa icon-angle-left"></i> Adicionar Leis
                </td>
                <td href="@Url.Action("DownloadExcel", "RequisitosLegais")" class="btn btn-danger">
                    <i class="fa icon-angle-left"></i> Remover Leis
                </td>
                <td href="@Url.Action("DownloadExcel", "RequisitosLegais")" class="btn btn-warning">
                    <i class="fa icon-angle-left"></i> Gestão de Licenças
                </td>
                <td href="@Url.Action("DownloadExcel", "RequisitosLegais")" class="btn btn-dark">
                    <i class="fa icon-angle-left"></i> Exportar Espelho de Avaliação
                </td>
                <td href="@Url.Action("DownloadExcel", "RequisitosLegais")" class="btn btn-dark">
                    <i class="fa icon-angle-left"></i> Exportar Leis e Parametros
                </td>
                <td href="@Url.Action("DownloadExcel", "RequisitosLegais")" class="btn btn-dark">
                    <i class="fa icon-angle-left"></i> Exportar Plano de Ação
                </td>
                <td href="@Url.Action("DownloadExcel", "RequisitosLegais")" class="btn btn-info">
                    <i class="fa icon-angle-left"></i> Gráficos
                </td>
                <td href="@Url.Action("Index", "RequisitosLegais")" class="btn btn-success">
                    <i class="fa icon-angle-left"></i> Voltar
                </td>
            </tr>
        </table>
        @*<a href="@Url.Action("Index", "RequisitosLegais")" class="btn btn-primary pull-right">
            <i class="fa icon-angle-left"></i> Voltar
        </a>
        <a href="@Url.Action("DownloadExcel", "RequisitosLegais")" class="btn btn-primary pull-right">
            <i class="fa icon-angle-left"></i> Baixar
        </a>*@
    </div>
    <link href="~/Content/bootstrap-theme.min.css" rel="stylesheet" />

    <div class="card-body">
        <table class="table table-striped table-bordered table-responsive-sm datatable dataTable no-footer" id="companiesTable">
            <thead>
                <tr>
                    <th class="text-center"><span>Sistema</span></th>
                    <th class="text-center"><span>Ambito</span></th>
                    <th class="text-center"><span>Estado</span></th>
                    <th class="text-center"><span>Municipio</span></th>
                    <th class="text-center"><span>Pais</span></th>
                    <th class="text-center"><span>Orgão</span></th>
                    <th class="text-center"><span>Numero</span></th>
                    <th class="text-center"><span>Ano</span></th>
                    <th class="text-center"><span>Tipo</span></th>
                    <th class="text-center"><span>Ementa</span></th>
                    <th class="text-center"><span>Tema</span></th>
                    <th class="text-center"><span>Situação</span></th>
                    <th class="text-center"><span>Ação</span></th>
                </tr>
            </thead>
            <tbody class="as_td">
                @foreach (var company in Model)
                {
                    <tr id="company-row-@company.Id">
                        <td style="width: 100px;">@company.Sistema</td>
                        <td>@company.Ambito</td>
                        <td>@company.Estado</td>
                        <td>@company.Municipio</td>
                        <td>@company.Pais</td>
                        <td>@company.Orgao</td>
                        <td>@company.Numero</td>
                        <td>@company.Ano</td>
                        <td>@company.Tipo</td>
                        <td>@company.Ementa</td>
                        <td>@company.Tema</td>
                        <td style="width: 100px;" class="text-center">
                            @if (company.Aplicavel == "0")
                            {<span class="badge badge-danger">Não</span>}
                            else
                            {<span class="badge badge-success">Sim</span>}
                        </td>
                        <td style="width: 100px;">
                            <a class="btn btn-success" title="Parametros" href="@Url.Action("Index", "ParametrosClientes", new { id = company.IDLegisGeral })">
                                <i class="fa fa-search-plus"></i>
                            </a>
                            <a class="btn btn-warning" title="Detalhes / Editar" href="@Url.Action("Details", "RequisitosLegais", new { id = company.IdLei })">
                                <i class="fa fa-edit"></i>
                            </a>

                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

@section modals{
    <div id="modal-section"></div>
}
@section scripts{
    @Scripts.Render("~/bundles/unobstrusive")
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/coreui/ladda/js")
    @Scripts.Render("~/coreui/datatables/js")
    <script src="~/Scripts/viewsjs/index.js"></script>
    <script src="~/Scripts/viewsjs/companyindex.js"></script>
    <script>
        $(document).ready(function () {
            initializeCompanyTable();
        });
    </script>
    <script type="text/javascript">
        //Initialize tooltip with jQuery
        $(document).ready(function () {
            $('.tooltips').tooltip();
        });
    </script>

}






























@*@{
        ViewBag.Title = "Requisitos";
    }

    @section styles{
        @Styles.Render("~/coreui/ladda/css")
        @Styles.Render("~/coreui/datatables/css")
    }
    @section breadcrumb{
        <!-- Breadcrumb-->
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="@Url.Action("Index", "Home")">Dashboard</a>
            </li>
            <li class="breadcrumb-item active">Requisitos Legais</li>
            <!-- Breadcrumb Menu-->
            <li class="breadcrumb-menu d-md-down-none">
                <div class="btn-group" role="group" aria-label="Button group">
                    <a class="btn" href="javascript:void(0)">
                        Olá @User.Identity.Name !
                    </a>
                </div>
            </li>
        </ol>
    }
    <div class="card">
        <div class="card-header">
            <h4 style="display: inline-block">Requisitos Legais do Cliente @ViewBag.Cliente</h4>
        </div>
        <div class="card-body">
            <iframe id="Iframe1" frameborder="0" scrolling="no" src="http://localhost:40351/Paginas/RequisitosLegais.aspx" width="100%" onload="setSize()" runat="server"></iframe>
        </div>
    </div>

    @section modals{
        <div id="modal-section">

        </div>
    }
    @section scripts{
        @Scripts.Render("~/bundles/unobstrusive")
        @Scripts.Render("~/bundles/jqueryval")
        @Scripts.Render("~/coreui/ladda/js")
        @Scripts.Render("~/coreui/datatables/js")
        <script src="~/Scripts/viewsjs/index.js"></script>
        <script src="~/Scripts/viewsjs/companyindex.js"></script>
        <script src="~/Scripts/viewsjs/changeclient.js"></script>
        <script>
            $(document).ready(function () {
                loadClientes();
                initializeCompanyTable();
            });

            function setSize() {
                var iframeElement = parent.document.getElementById('Iframe1');
                var height = document.documentElement.clientHeight - 100;
                iframeElement.style.height = height + "px";
            }
        </script>

    }*@




