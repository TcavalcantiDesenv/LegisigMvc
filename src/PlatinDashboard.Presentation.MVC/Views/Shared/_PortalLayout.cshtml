@using DevExpress.Web.Mvc.UI;
@using PlatinDashboard.Presentation.MVC.Helpers
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>@ViewBag.Title</title>
    <!-- Icons-->
    <link rel="stylesheet" type="text/css" href="~/coreuilib/coreui/icons/css/coreui-icons.min.css">
    <link rel="stylesheet" type="text/css" href="/coreuilib/flag-icon-css/css/flag-icon.min.css">
    <link rel="stylesheet" type="text/css" href="/coreuilib/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/coreuilib/simple-line-icons/css/simple-line-icons.css">

    <link href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" />


    <!-- Main styles for this application-->
    @Styles.Render("~/coreui/mainstyle/css")
    <!--View Styles-->
    @RenderSection("styles", required: false)
    <!-- Bootstrap and necessary plugins-->
    @Scripts.Render("~/coreui/plugins/js")
    @Html.DevExpress().GetStyleSheets(
        new StyleSheet { ExtensionSuite = ExtensionSuite.NavigationAndLayout },
        new StyleSheet { ExtensionSuite = ExtensionSuite.Editors },
        new StyleSheet { ExtensionSuite = ExtensionSuite.PivotGrid, Theme = "Material" },
        new StyleSheet { ExtensionSuite = ExtensionSuite.Chart }
    )
    @Html.DevExpress().GetScripts(
                new Script { ExtensionSuite = ExtensionSuite.NavigationAndLayout },
                new Script { ExtensionSuite = ExtensionSuite.Editors },
                new Script { ExtensionSuite = ExtensionSuite.PivotGrid },
                new Script { ExtensionSuite = ExtensionSuite.Chart }
            )
</head>
<body class="app header-fixed sidebar-fixed aside-menu-fixed sidebar-lg-show">
    <header class="app-header navbar">
        <button class="navbar-toggler sidebar-toggler d-lg-none mr-auto" type="button" data-toggle="sidebar-show">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="/">
            <div class="navbar-brand-full">
                <img src="~/img/brand/platin-logo.png" width="130" height="35" alt="Legisig Logo" style="display: inline-block">
            </div>
            <img class="navbar-brand-minimized" src="~/img/brand/logo.png" width="50" height="35" alt="CoreUI Logo">
        </a>
        <button class="navbar-toggler sidebar-toggler d-md-down-none" type="button" data-toggle="sidebar-lg-show">
            <span class="navbar-toggler-icon"></span>
        </button>
        <ul class="nav navbar-nav d-md-down-none">
            <li class="nav-item px-3">
                <a class="nav-link" href="@Url.Action("Index", "Home")">Painel</a>
            </li>
            <li class="nav-item dropdown px-3">
                <a class="nav-link" href="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Configurações</a>
                <div class="dropdown-menu dropdown-menu-right">
                    <a class="dropdown-item" href="@Url.Action("Index", "Perfil")">
                        <i class="fa fa-user"></i> Perfil
                    </a>
                    @if (this.IfClaim("UserType", "Admin-1") || this.IfClaim("UserType", "Adm-2") || this.IfClaim("UserType", "Gestor"))
                    {
                        <a class="dropdown-item" href="@Url.Action("Index", "Usuarios")">
                            <i class="fa fa-users"></i> Usuários
                        </a>
                        <a class="dropdown-item" href="@Url.Action("Index", "Midias")">
                            <i class="fa fa-film"></i> Mídias
                        </a>
                    }
                </div>
            </li>
            <li class="nav-item align-content-xl-stretch">
                @if (this.IfClaim("UserType", "Admin-1") || this.IfClaim("UserType", "Adm-2") || this.IfClaim("UserType", "Gestor"))
                {
                    @Html.Partial("_ClientesPartial");
                }
            </li>
        </ul>

        @Html.Partial("_LoginPartial")

    </header>
    <div class="app-body">
        <div class="sidebar">
            <nav class="sidebar-nav">
                <ul class="nav">
                    <li class="nav-item">
                        <a class="nav-link" href="@Url.Action("Index", "Dashboard")">
                            <i class="nav-icon icon-speedometer"></i> Painel Geral
                        </a>
                    </li>

                    @if (this.IfClaim("ChartLeiseParametros", "Allowed") ||
                            this.IfClaim("ChartClientes", "Allowed") ||
                            this.IfClaim("ChartSistemas", "Allowed") ||
                            this.IfClaim("ChartUsuarios", "Allowed") ||
                            this.IfClaim("ChartImportacaoLeis", "Allowed") ||
                            this.IfClaim("ChartAnexos", "Allowed") ||
                            this.IfClaim("ChartDadosGerais", "Allowed") ||
                            this.IfClaim("CompanyType", "Gestor") ||
                            this.IfClaim("CompanyType", "Adm-1") ||
                            this.IfClaim("CompanyType", "Adm-2") ||
                            this.IfClaim("CompanyType", "Adm-3"))
                    {
                        <li class="nav-item nav-dropdown">
                            <a class="nav-link nav-dropdown-toggle" href="#">
                                <i class="nav-icon fa fa-id-card-o"></i> Gestão Legisig
                            </a>
                            <ul class="nav-dropdown-items">
                                @if (this.IfClaim("ChartClientes", "Allowed") ||
                                    this.IfClaim("CompanyType", "Gestor") ||
                                    this.IfClaim("CompanyType", "Adm-1") ||
                                    this.IfClaim("CompanyType", "Adm-2") ||
                                    this.IfClaim("CompanyType", "Adm-3"))
                                {
                                    <li class="nav-item">
                                        <a class="nav-link" href="@Url.Action("Index", "Clientes")">
                                            <i class="nav-icon icon-people"></i>  Clientes
                                        </a>
                                    </li>
                                }
                                @if (this.IfClaim("ChartUsuarios", "Allowed") ||
                                    this.IfClaim("CompanyType", "Gestor") ||
                                    this.IfClaim("CompanyType", "Adm-1") ||
                                    this.IfClaim("CompanyType", "Adm-2") ||
                                    this.IfClaim("CompanyType", "Adm-3"))
                                {
                                    <li class="nav-item">
                                        <a class="nav-link" href="@Url.Action("Index", "Usuarios")">
                                            <i class="nav-icon icon-people"></i> Usuários
                                        </a>
                                    </li>
                                }
                                @*@if (this.IfClaim("ChartSistemas", "Allowed") ||
            this.IfClaim("CompanyType", "Gestor") ||
            this.IfClaim("CompanyType", "Adm-1") ||
            this.IfClaim("CompanyType", "Adm-2") ||
            this.IfClaim("CompanyType", "Adm-3"))
        {
            <li class="nav-item">
                <a class="nav-link" href="@Url.Action("Index", "Sistemas")">
                    <i class="nav-icon icon-people"></i> Sistemas
                </a>
            </li>
        }*@
                                @if (this.IfClaim("ChartLeiseParametros", "Allowed") ||
                                    this.IfClaim("CompanyType", "Gestor") ||
                                    this.IfClaim("CompanyType", "Adm-1") ||
                                    this.IfClaim("CompanyType", "Adm-2") ||
                                    this.IfClaim("CompanyType", "Adm-3"))
                                {
                                    <li class="nav-item">
                                        <a class="nav-link" href="@Url.Action("Index", "LegisGeral")">
                                            <i class="nav-icon icon-people"></i> Leis e Parametros
                                        </a>
                                    </li>
                                }
                                @if (this.IfClaim("ChartImportacaoLeis", "Allowed") ||
                                    this.IfClaim("CompanyType", "Gestor") ||
                                    this.IfClaim("CompanyType", "Adm-1") ||
                                    this.IfClaim("CompanyType", "Adm-2") ||
                                    this.IfClaim("CompanyType", "Adm-3"))
                                {
                                    <li class="nav-item">
                                        <a class="nav-link" href="@Url.Action("Index", "ImportarLeis")">
                                            <i class="nav-icon icon-people"></i> Importar Leis
                                        </a>
                                    </li>
                                }
                                @if (this.IfClaim("ChartValidadores", "Allowed") ||
                                    this.IfClaim("CompanyType", "Gestor") ||
                                    this.IfClaim("CompanyType", "Adm-1") ||
                                    this.IfClaim("CompanyType", "Adm-2") ||
                                    this.IfClaim("CompanyType", "Adm-3"))
                                {
                                    <li class="nav-item">
                                        <a class="nav-link" href="@Url.Action("Index", "Validadores")">
                                            <i class="nav-icon icon-people"></i> Cadastro Validadores
                                        </a>
                                    </li>
                                }
                                @if (this.IfClaim("ChartLiberarEmpresas", "Allowed") ||
                     this.IfClaim("CompanyType", "Gestor") ||
                     this.IfClaim("CompanyType", "Adm-1") ||
                     this.IfClaim("CompanyType", "Adm-2") ||
                     this.IfClaim("CompanyType", "Adm-3"))
                                {
                                    <li class="nav-item">
                                        <a class="nav-link" href="@Url.Action("Index", "Empresas")">
                                            <i class="nav-icon fa fa-sitemap"></i>Liberar Empresas
                                        </a>
                                    </li>
                                }

                                @if (this.IfClaim("ChartLeiseParametros", "Allowed") ||
                                this.IfClaim("ChartClientes", "Allowed") ||
                                this.IfClaim("ChartSistemas", "Allowed") ||
                                this.IfClaim("ChartUsuarios", "Allowed") ||
                                this.IfClaim("ChartImportacaoLeis", "Allowed") ||
                                this.IfClaim("ChartAnexos", "Allowed") ||
                                this.IfClaim("ChartDadosGerais", "Allowed") ||
                                this.IfClaim("CompanyType", "Gestor") ||
                                this.IfClaim("CompanyType", "Adm-1") ||
                                this.IfClaim("CompanyType", "Adm-2") ||
                                this.IfClaim("CompanyType", "Adm-3"))
                                {
                                    <li class="nav-item nav-dropdown">
                                        <a class="nav-link nav-dropdown-toggle" href="#">
                                            <i class="nav-icon fa fa-id-card-o"></i> Exportar Dados
                                        </a>
                                        <ul class="nav-dropdown-items">
                                            <li class="nav-item">
                                                <a class="nav-link" href="@Url.Action("DownloadLei", "RequisitosLegais")">
                                                    <i class="nav-icon icon-people"></i>  Leis
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" href="@Url.Action("DownloadParametro", "RequisitosLegais")">
                                                    <i class="nav-icon icon-people"></i>  Parametros
                                                </a>
                                            </li>

                                            <li class="nav-item">
                                                <a class="nav-link" href="@Url.Action("DownloadLei", "RequisitosLegais")">
                                                    <i class="nav-icon icon-people"></i> Plano de Ação
                                                </a>
                                            </li>

                                            <li class="nav-item">
                                                <a class="nav-link" href="@Url.Action("DownloadLei", "RequisitosLegais")">
                                                    <i class="nav-icon icon-people"></i> Avaliações
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                }

                                @if (this.IfClaim("ChartGraficos", "Allowed") ||
                      this.IfClaim("CompanyType", "Gestor") ||
                      this.IfClaim("CompanyType", "G-1") ||
                      this.IfClaim("CompanyType", "G-2") ||
                      this.IfClaim("CompanyType", "G-3"))
                                {

                                    <li class="nav-item">
                                        <a class="nav-link" href="@Url.Action("Index", "Dashboard")">
                                            <i class="nav-icon icon-pie-chart"></i> Gráficos
                                        </a>
                                    </li>
                                }


                                @if (this.IfClaim("ChartArquivosAnexos", "Allowed") ||
                                    this.IfClaim("CompanyType", "Gestor") ||
                                    this.IfClaim("CompanyType", "Adm-1") ||
                                    this.IfClaim("CompanyType", "Adm-2") ||
                                    this.IfClaim("CompanyType", "Adm-3"))
                                {
                                    <li class="nav-item">
                                        <a class="nav-link" href="@Url.Action("Index", "Anexos")">
                                            <i class="nav-icon icon-people"></i> Arquivos e Anexos
                                        </a>
                                    </li>
                                }
                            </ul>
                        </li>
                    }
              

                    @if (this.IfClaim("ChartGestaoLegal", "Allowed") ||
                        this.IfClaim("CompanyType", "Gestor") ||
                        this.IfClaim("CompanyType", "G-1") ||
                        this.IfClaim("CompanyType", "G-2") ||
                        this.IfClaim("CompanyType", "G-3"))
                    {
                        <li class="nav-item">
                            <a class="nav-link" href="@Url.Action("Index", "RequisitosLegais")">
                                <i class="nav-icon icon-folder"></i> Gestão de Clientes
                            </a>
                        </li>
                    }
              



                </ul>
            </nav>
            <button class="sidebar-minimizer brand-minimizer minimizer-btn" type="button"></button>
        </div>
        <main class="main">
            @RenderSection("breadcrumb", required: false) 
            <div class="container-fluid">
                @RenderBody()
            </div>
        </main>
    </div>
    <footer class="app-footer">
        <div>
            <a href="http://tcavalcanti.com.br.com.br" target="_blank">Tcavalcanti</a>
            <span>&copy; 1987 - @DateTime.Now.Year</span>
        </div>
        <div class="ml-auto">
            <span>Desenvolvido por </span>
            <a href="http://tcavalcanti.com.br" target="_blank">Tcavalcanti Ltda.</a>
        </div>
    </footer>
    <!-- Plugins and scripts required by this view-->
    @Scripts.Render("~/coreui/charts/js")
    <!--View Modals-->
    @RenderSection("modals", required: false)
    <!--View Scripts-->
    @RenderSection("scripts", required: false)
    <script>
        $(document).ready(function () {
            setTimeout(function () {
                $('.nav-item.nav-dropdown.open').each(function (ind, ele) {
                    if (!$(ele).hasClass('first-level')) {
                        $(ele).removeClass('open');
                    }
                });
            }, 100)
        });
    </script>

    <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
</body>
</html>